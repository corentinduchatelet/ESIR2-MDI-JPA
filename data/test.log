/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
drop table Participant if exists
drop table Participant_Slot if exists
drop table Poll if exists
drop table Slot if exists
create table Participant (id bigint generated by default as identity (start with 1), first_name varchar(255), mail varchar(255), name varchar(255), poll_id bigint, primary key (id))
create table Participant_Slot (Participant_id bigint not null, selectedSlots_id bigint not null)
create table Poll (id bigint generated by default as identity (start with 1), description varchar(255), name varchar(255), primary key (id))
create table Slot (id bigint generated by default as identity (start with 1), begin timestamp not null, end timestamp, poll_id bigint, primary key (id))
alter table Participant_Slot add constraint UK_7j84m8evrdow9lihjkle0pcxv  unique (selectedSlots_id)
alter table Participant add constraint FK_jb7l08dx7ab4e91l0giuxw92e foreign key (poll_id) references Poll
alter table Participant_Slot add constraint FK_7j84m8evrdow9lihjkle0pcxv foreign key (selectedSlots_id) references Slot
alter table Participant_Slot add constraint FK_4tsmqosxxef0w9rojj9n70oi6 foreign key (Participant_id) references Participant
alter table Slot add constraint FK_klcjj7yx5ngyalsnes1l3ktk foreign key (poll_id) references Poll
INSERT INTO POLL VALUES(1,NULL,NULL)
INSERT INTO PARTICIPANT VALUES(1,'patrick',NULL,NULL,NULL)
INSERT INTO SLOT VALUES(1,'2019-05-20 17:10:23.791000',NULL,NULL)
COMMIT
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
